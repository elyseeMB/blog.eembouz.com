<!DOCTYPE html><html lang="fr"> <head><title>Lazy Loading React : Retry &amp; Reload | Blog</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="En production, dans une application SPA (Single Page Application), il est crucial d'optimiser le chargement et le déploiement de nouvelles versions."><link rel="canonical" href="https://blog.eembouz.com/articles/lazy-loading/"><meta name="author" content="elysee"><meta property="article:published_time" content="2025-09-14T00:00:00.000Z"><link rel="icon" type="image/png" href="https://blog.eembouz.com/favicon-512.png" sizes="512x512"><link rel="icon" type="image/svg+xml" href="https://blog.eembouz.com/favicon.svg"><link rel="apple-touch-icon" href="https://blog.eembouz.com/apple-touch-icon.png"><link rel="manifest" href="https://blog.eembouz.com/site.webmanifest"><link rel="sitemap" href="https://blog.eembouz.com/sitemap-index.xml"><link rel="icon" type="image/png" href="https://blog.eembouz.com/favicon-96x96.png" sizes="96x96"><link rel="apple-touch-icon" sizes="180x180" href="https://blog.eembouz.com/apple-touch-icon.png"><meta name="theme-color" content="#1e1e1e"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Domine:wght@400..700&family=Epilogue:ital,wght@0,100..900;1,100..900&family=Geist:wght@100..900&family=IBM+Plex+Serif:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Literata:ital,opsz,wght@0,7..72,200..900;1,7..72,200..900&family=Pridi:wght@200;300;400;500;600;700&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&family=Urbanist:ital,wght@0,100..900;1,100..900&family=Vollkorn:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet"><meta property="og:type" content="article"><meta property="og:site_name" content="Elysee-Mboussa"><meta property="og:title" content="Lazy Loading React : Retry &#38; Reload | Blog"><meta property="og:type" content="website"><meta property="og:description" content="En production, dans une application SPA (Single Page Application), il est crucial d'optimiser le chargement et le déploiement de nouvelles versions."><meta property="og:image" content="/lazy_loading/lazy_loading.png"><meta property="og:url" content="https://blog.eembouz.com/articles/lazy-loading/"><meta name="robots" content="index, follow"><meta name="google-site-verification" content="hyeUNyeanb3BYVbCmMJKMIiXusraMSWPSCNMBn83Sk8"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Lazy Loading React : Retry &#38; Reload | Blog"><meta name="twitter:description" content="En production, dans une application SPA (Single Page Application), il est crucial d'optimiser le chargement et le déploiement de nouvelles versions."><meta name="twitter:image" content="/lazy_loading/lazy_loading.png"><meta name="twitter:site" content="@EmmanuelitoElysee"><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Emmanuelito elysee",
    "url": "https://blog.eembouz.com",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://blog.eembouz.com",
      "query-input": "required name=search_term_string"
    }
  }
</script><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Emmanuelito Elysee",
    "url": "https://blog.eembouz.com/",
    "logo": "https://blog.eembouz.com/favicon-512.png"
  }
</script><script type="module" src="/_astro/Scripts.astro_astro_type_script_index_0_lang.BBugtUs8.js"></script><style>span[data-astro-cid-rafwukvt]{font-family:JetBrains Mono!important;letter-spacing:-.5px}body .page-wrapper[data-astro-cid-eomsrdgo]{background:red!important}.container[data-astro-cid-eomsrdgo],.wrapper-content[data-astro-cid-eomsrdgo]{overflow:visible}.article__paragraph[data-astro-cid-eomsrdgo]{padding-block:1rem}.description[data-astro-cid-eomsrdgo]{padding-block:3rem}.info[data-astro-cid-eomsrdgo]{display:grid;grid-template-columns:1fr;gap:1.5rem}.wrapper-content[data-astro-cid-eomsrdgo]{max-width:700px;display:block}.wrapper-outline[data-astro-cid-eomsrdgo]{display:none}@media screen and (min-width: 1200px){.wrapper-content[data-astro-cid-eomsrdgo]{width:100%;display:grid!important;grid-template-columns:1fr 550px 1fr!important;padding:0}.wrapper-outline[data-astro-cid-eomsrdgo]{display:block;grid-column:3;margin-bottom:5rem}.content[data-astro-cid-eomsrdgo]{width:550px;grid-column:2;padding-bottom:5rem}}.content[data-astro-cid-eomsrdgo]{padding-bottom:5rem}h1[data-astro-cid-eomsrdgo]{text-align:left;padding-top:2rem;letter-spacing:-5px;white-space:normal;word-break:break-word;line-height:.9;font-weight:100;font-size:5rem;font-style:italic}.cover[data-astro-cid-eomsrdgo]{width:100%}.meta[data-astro-cid-eomsrdgo]{display:flex;flex-direction:column;font-size:.9rem;gap:1rem;padding-block:1rem;font-family:JetBrains Mono!important;>[data-astro-cid-eomsrdgo]{font-family:JetBrains Mono!important;letter-spacing:-.5px}}@media screen and (max-width: 750px){.wrapper-content[data-astro-cid-eomsrdgo]{padding-inline:var(--container-padding)}}@media screen and (max-width: 590px){.container-narrow[data-astro-cid-eomsrdgo] .info[data-astro-cid-eomsrdgo] .tags[data-astro-cid-eomsrdgo]{align-items:flex-start;flex-direction:column}}@media screen and (min-width: 1300px){.heading[data-astro-cid-eomsrdgo]{img{max-height:500px}}}.content[data-astro-cid-eomsrdgo]{p,ul,li,ol,table,tr,td,th{color:var(--color-primary)}strong{font-weight:900}}.content[data-astro-cid-eomsrdgo]{h2,h3,h4,h5,h6{padding-top:1.5rem;letter-spacing:normal;font-family:Inter!important;color:#fff;font-weight:700}}
</style>
<link rel="stylesheet" href="/_astro/505.BIEdMU3l.css"></head> <body> <div class="bg-noise"> <div class="page-wrapper"> <div class="container-narrow" data-astro-cid-j2devmb2> <header data-astro-cid-6sev2il6> <div class="container" data-astro-cid-6sev2il6> <div class="wrapper" data-astro-cid-6sev2il6> <div class="flex" data-astro-cid-6sev2il6> <div class="logo" data-astro-cid-6sev2il6> <a href="/" data-astro-cid-6sev2il6> <svg width="40" height="40" id="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" data-astro-cid-6sev2il6> <defs data-astro-cid-6sev2il6> <style>
                  .cls-1,
                  .cls-2 {
                    stroke-width: 0px;
                  }

                  .cls-2 {
                    fill: #007aec;
                  }
                </style> </defs> <circle class="cls-2" cx="6" cy="6" r="5.5" data-astro-cid-6sev2il6></circle> <path class="cls-1" d="m6,1c2.76,0,5,2.24,5,5s-2.24,5-5,5S1,8.76,1,6,3.24,1,6,1m0-1C2.69,0,0,2.69,0,6s2.69,6,6,6,6-2.69,6-6S9.31,0,6,0h0Z" data-astro-cid-6sev2il6></path> </svg></a> </div>  <div class="actions" data-astro-cid-j2devmb2> <a href="https://eembouz.com" data-astro-cid-j2devmb2> Portfolio</a> <a href="/articles" data-astro-cid-j2devmb2>tous mes articles</a> </div>  </div> </div> </div> </header>  </div>   <section data-astro-cid-eomsrdgo> <div class="container" data-astro-cid-eomsrdgo> <div class="container-narrow" data-astro-cid-eomsrdgo> <div class="info" data-astro-cid-eomsrdgo> <h1 data-astro-cid-eomsrdgo>Lazy Loading React : Retry &amp; Reload</h1> <div class="tags" data-astro-cid-eomsrdgo> <div class="tag" data-astro-cid-eomsrdgo>Programmation</div> </div> <div class="meta" data-astro-cid-eomsrdgo> <span data-astro-cid-eomsrdgo>
Posté le 14 septembre 2025 · Par elysee </span> <span data-astro-cid-rafwukvt> 9 min de lecture</span>  </div> </div> </div> </div> <div class="container" data-astro-cid-eomsrdgo> <div class="container-narrow" data-astro-cid-eomsrdgo> <div class="heading" data-astro-cid-eomsrdgo> <div class="cover" data-astro-cid-eomsrdgo> <!-- <img src={thumbnail} alt="" /> --> </div> </div> </div> </div> <div class="container" data-astro-cid-eomsrdgo> <div class="wrapper-content" data-astro-cid-eomsrdgo> <div class="content" data-astro-cid-eomsrdgo> <p>En production, dans une application SPA (Single Page Application), il est crucial d’optimiser le chargement et le déploiement de nouvelles versions. Il est très fréquent qu’un utilisateur ayant une session active depuis plusieurs heures se retrouve avec une version obsolète de l’application au moment d’un déploiement. Les fichiers JavaScript restent alors en cache dans le navigateur ou actifs durant la session, provoquant des erreurs de chargement lorsque l’utilisateur tente d’accéder à de nouvelles fonctionnalités.</p>
<p>Dans cet article, nous analyserons l’implémentation du lazy loading dans un contexte de navigation et de routage. Nous verrons comment cette approche améliore les performances tout en gérant efficacement les erreurs de chargement en production.</p>
<h2 id="définition">Définition</h2>
<p>Le lazy loading est une technique d’optimisation utilisée en programmation, particulièrement en développement web, qui vise à améliorer les performances et réduire les temps de chargement initiaux. Cette approche consiste à différer le chargement des ressources (images, modules JavaScript, composants, etc.) jusqu’à ce qu’elles soient réellement nécessaires ou demandées par l’utilisateur.</p>
<h2 id="le-lazy-loading-react">Le lazy loading React</h2>
<h3 id="le-standard">Le Standard</h3>
<p>La plupart des frameworks modernes (React, Preact, etc.) proposent une implémentation native du lazy loading. React expose cette fonctionnalité via <code>React.lazy()</code>, mais cette approche basique révèle ses limites en production, particulièrement lors d’échecs de chargement des chunks JavaScript.</p>
<h3 id="fonctionnement">Fonctionnement</h3>
<p>Le lazy fonctionne en attendant qu’une promise se résolve vers un module qui contient un export default. Lorsque le composant est demandé React extrait le <code>module.default</code> et l’utilise pour le rendu</p>
<h3 id="code-dexemple-basique">Code d’exemple basique</h3>
<br/>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { lazy } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &quot;react&quot;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> MarkdownPreview</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> lazy</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=&gt;</span><span style="color:#F97583"> import</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;./MarkdownPreview.js&quot;</span><span style="color:#E1E4E8">));</span></span></code></pre>
<h2 id="problème-de-chunks-en-production">Problème de chunks en production</h2>
<p>Comme mentionné en introduction, les déploiements fréquents en production génèrent un problème récurrent : les utilisateurs ayant une session active se retrouvent avec des références vers d’anciens chunks qui n’existent plus sur le serveur. Lorsque ces utilisateurs tentent de naviguer vers une nouvelle section de l’application, le chargement échoue car les fichiers JavaScript ont été renommés avec de nouveaux hashs lors du déploiement.</p>
<h3 id="définition-dun-chunk">Définition d’un chunk :</h3>
<p>Un chunk est un morceau de code JavaScript généré et optimisé pour la production par un bundler (Vite, Webpack) lors du processus de build.</p>
<h2 id="approche-améliorée">Approche améliorée</h2>
<h3 id="fonctionnalité-reload">Fonctionnalité Reload</h3>
<p>Commençons par l’essentiel : la gestion des chunks pour minimiser les échecs de chargement dus aux hashs obsolètes des anciennes versions.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { lazy </span><span style="color:#F97583">as</span><span style="color:#E1E4E8"> reactLazy, </span><span style="color:#F97583">type</span><span style="color:#E1E4E8"> ComponentType, </span><span style="color:#F97583">type</span><span style="color:#E1E4E8"> FC } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &quot;react&quot;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> createLazy</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#B392F0">  importFunction</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&lt;{ </span><span style="color:#FFAB70">default</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ComponentType</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">any</span><span style="color:#E1E4E8">&gt; }&gt;,</span></span>
<span class="line"><span style="color:#FFAB70">  maxRetries</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 3</span></span>
<span class="line"><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#6A737D">  /**</span></span>
<span class="line"><span style="color:#6A737D">   * 1 - Gestion du reload automatique</span></span>
<span class="line"><span style="color:#6A737D">   */</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#B392F0"> reactLazy</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">async</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">    /**</span></span>
<span class="line"><span style="color:#6A737D">     * On utilise la signature de la fonction comme clé pour le sessionStorage.</span></span>
<span class="line"><span style="color:#6A737D">     * On la transforme en chaîne de caractères pour créer un identifiant unique.</span></span>
<span class="line"><span style="color:#6A737D">     */</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> functionString</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> importFunction.</span><span style="color:#B392F0">toString</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">      /**</span></span>
<span class="line"><span style="color:#6A737D">       * Ici on exécute la fonction qui importe notre composant</span></span>
<span class="line"><span style="color:#6A737D">       */</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> component</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> importFunction</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">      /**</span></span>
<span class="line"><span style="color:#6A737D">       * En cas de succès, on supprime au préalable la clé du sessionStorage</span></span>
<span class="line"><span style="color:#6A737D">       * pour une réinitialisation propre lors du prochain échec éventuel</span></span>
<span class="line"><span style="color:#6A737D">       */</span></span>
<span class="line"><span style="color:#E1E4E8">      sessionStorage.</span><span style="color:#B392F0">removeItem</span><span style="color:#E1E4E8">(functionString);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#E1E4E8"> component;</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#6A737D">      /**</span></span>
<span class="line"><span style="color:#6A737D">       * On récupère la valeur stockée dans le sessionStorage avec la clé &quot;functionString&quot;.</span></span>
<span class="line"><span style="color:#6A737D">       * Ensuite on la compare à notre paramètre maxRetries.</span></span>
<span class="line"><span style="color:#6A737D">       * Si elle est inférieure à maxRetries, on l&#39;incrémente jusqu&#39;à ce qu&#39;elle devienne supérieure.</span></span>
<span class="line"><span style="color:#6A737D">       * Puis on rafraîchit la page avec window.location.reload().</span></span>
<span class="line"><span style="color:#6A737D">       */</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> currentFailures</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> parseInt</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">        sessionStorage.</span><span style="color:#B392F0">getItem</span><span style="color:#E1E4E8">(functionString) </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> &quot;0&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">      );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (currentFailures </span><span style="color:#F97583">&lt;</span><span style="color:#E1E4E8"> maxRetries) {</span></span>
<span class="line"><span style="color:#E1E4E8">        sessionStorage.</span><span style="color:#B392F0">setItem</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">          functionString,</span></span>
<span class="line"><span style="color:#E1E4E8">          (currentFailures </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">toString</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">        );</span></span>
<span class="line"><span style="color:#E1E4E8">        window.location.</span><span style="color:#B392F0">reload</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">        /**</span></span>
<span class="line"><span style="color:#6A737D">         * React.lazy() attend une Promise qui se résout vers { default: Component }.</span></span>
<span class="line"><span style="color:#6A737D">         * Ici c&#39;est un placeholder qui ne sera jamais affiché car la page se recharge.</span></span>
<span class="line"><span style="color:#6A737D">         * On retourne une signature similaire à l&#39;API React.lazy().</span></span>
<span class="line"><span style="color:#6A737D">         */</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#B392F0"> EmptyComponent</span><span style="color:#F97583">:</span><span style="color:#B392F0"> FC</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=&gt;</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> { default: EmptyComponent };</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">      /**</span></span>
<span class="line"><span style="color:#6A737D">       * Si on a dépassé le nombre maximum de tentatives, on propage l&#39;erreur</span></span>
<span class="line"><span style="color:#6A737D">       */</span></span>
<span class="line"><span style="color:#F97583">      throw</span><span style="color:#E1E4E8"> error;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Cette approche nous permet d’assurer une gestion automatique des erreurs de chunks et d’améliorer significativement l’expérience utilisateur en évitant les crashs d’application.</p>
<h3 id="logique-du-retry--optimisation">Logique du retry : Optimisation</h3>
<p>Ensuite, dans le but d’assurer une expérience utilisateur optimale, nous ajoutons un paramètre retry qui définit le nombre de tentatives avant de déclencher le reload. Ainsi, nous nous assurons que les erreurs temporaires (connexion instable, serveur momentanément indisponible) sont résolues sans avoir recours au rechargement de page, qui reste notre solution de dernier recours pour les chunks réellement obsolètes.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#B392F0"> tryImport</span><span style="color:#F97583"> =</span><span style="color:#F97583"> async</span><span style="color:#E1E4E8"> ()</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&lt;{ </span><span style="color:#FFAB70">default</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ComponentType</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">any</span><span style="color:#E1E4E8">&gt; }&gt; </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">  /**</span></span>
<span class="line"><span style="color:#6A737D">   * On initialise le compteur</span></span>
<span class="line"><span style="color:#6A737D">   */</span></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> retryCount</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">  /**</span></span>
<span class="line"><span style="color:#6A737D">   * Fonction interne pour gérer le retry d&#39;import.</span></span>
<span class="line"><span style="color:#6A737D">   * On encapsule attempt pour que retryCount soit local à chaque appel</span></span>
<span class="line"><span style="color:#6A737D">   * et éviter de partager l&#39;état entre plusieurs imports.</span></span>
<span class="line"><span style="color:#6A737D">   * Ainsi, on a une fonction locale qui gère son propre état et ses manipulations.</span></span>
<span class="line"><span style="color:#6A737D">   */</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#B392F0"> attempt</span><span style="color:#F97583"> =</span><span style="color:#F97583"> async</span><span style="color:#E1E4E8"> ()</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&lt;{ </span><span style="color:#FFAB70">default</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ComponentType</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">any</span><span style="color:#E1E4E8">&gt; }&gt; </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> importFunction</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#6A737D">      /**</span></span>
<span class="line"><span style="color:#6A737D">       * Si le nombre de reprises est inférieur à l&#39;argument mis en paramètre (qui était de 3),</span></span>
<span class="line"><span style="color:#6A737D">       * on incrémente et réexécute la fonction (récursivité)</span></span>
<span class="line"><span style="color:#6A737D">       */</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (retryCount </span><span style="color:#F97583">&lt;</span><span style="color:#E1E4E8"> importRetries) {</span></span>
<span class="line"><span style="color:#E1E4E8">        retryCount</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">        /**</span></span>
<span class="line"><span style="color:#6A737D">         * On marque un temps d&#39;arrêt pour chaque reprise</span></span>
<span class="line"><span style="color:#6A737D">         */</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> (retryDelay </span><span style="color:#F97583">&gt;</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">          await</span><span style="color:#F97583"> new</span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">resolve</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> setTimeout</span><span style="color:#E1E4E8">(resolve, retryDelay));</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#B392F0"> attempt</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#6A737D">      /**</span></span>
<span class="line"><span style="color:#6A737D">       * En cas d&#39;échec répété, on arrête et on renvoie l&#39;erreur</span></span>
<span class="line"><span style="color:#6A737D">       */</span></span>
<span class="line"><span style="color:#F97583">      throw</span><span style="color:#E1E4E8"> error;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#B392F0"> attempt</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span></code></pre>
<p>Encapsuler <code>attempt</code> permet de garder le compteur de retry local à chaque tentative de chargement, évitant les conflits ou réinitialisations inattendues dans un environnement React où le lazy loading peut être évalué plusieurs fois.</p>
<h3 id="le-résultat">Le résultat :</h3>
<br/>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { lazy </span><span style="color:#F97583">as</span><span style="color:#E1E4E8"> reactLazy, </span><span style="color:#F97583">type</span><span style="color:#E1E4E8"> ComponentType, </span><span style="color:#F97583">type</span><span style="color:#E1E4E8"> FC } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &quot;react&quot;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> Options</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  maxRetries</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#FFAB70">  importRetries</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#FFAB70">  retryDelay</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> createLazy</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#B392F0">  importFunction</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&lt;{ </span><span style="color:#FFAB70">default</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ComponentType</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">any</span><span style="color:#E1E4E8">&gt; }&gt;,</span></span>
<span class="line"><span style="color:#E1E4E8">  { </span><span style="color:#FFAB70">maxRetries</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">importRetries</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">retryDelay</span><span style="color:#E1E4E8"> }</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Options</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    maxRetries: </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    importRetries: </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    retryDelay: </span><span style="color:#79B8FF">300</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#6A737D">  /**</span></span>
<span class="line"><span style="color:#6A737D">   * Retry feature</span></span>
<span class="line"><span style="color:#6A737D">   *</span></span>
<span class="line"><span style="color:#6A737D">   * On crée une fonction avec une signature similaire à ce que doit retourner createLazy()</span></span>
<span class="line"><span style="color:#6A737D">   */</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#B392F0"> tryImport</span><span style="color:#F97583"> =</span><span style="color:#F97583"> async</span><span style="color:#E1E4E8"> ()</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&lt;{ </span><span style="color:#FFAB70">default</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ComponentType</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">any</span><span style="color:#E1E4E8">&gt; }&gt; </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">    /**</span></span>
<span class="line"><span style="color:#6A737D">     * On initialise le compteur</span></span>
<span class="line"><span style="color:#6A737D">     */</span></span>
<span class="line"><span style="color:#F97583">    let</span><span style="color:#E1E4E8"> retryCount</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    /**</span></span>
<span class="line"><span style="color:#6A737D">     * Fonction interne pour gérer le retry d&#39;import.</span></span>
<span class="line"><span style="color:#6A737D">     * On encapsule attempt pour que retryCount soit local à chaque appel</span></span>
<span class="line"><span style="color:#6A737D">     * et éviter de partager l&#39;état entre plusieurs imports.</span></span>
<span class="line"><span style="color:#6A737D">     * Ainsi, on a une fonction locale qui gère son propre état et ses manipulations.</span></span>
<span class="line"><span style="color:#6A737D">     */</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#B392F0"> attempt</span><span style="color:#F97583"> =</span><span style="color:#F97583"> async</span><span style="color:#E1E4E8"> ()</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&lt;{ </span><span style="color:#FFAB70">default</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ComponentType</span><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">any</span><span style="color:#E1E4E8">&gt; }&gt; </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">      try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> importFunction</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">      } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#6A737D">        /**</span></span>
<span class="line"><span style="color:#6A737D">         * Si le nombre de reprises est inférieur à l&#39;argument mis en paramètre (qui était de 3),</span></span>
<span class="line"><span style="color:#6A737D">         * on incrémente et réexécute la fonction (récursivité)</span></span>
<span class="line"><span style="color:#6A737D">         */</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> (retryCount </span><span style="color:#F97583">&lt;</span><span style="color:#E1E4E8"> importRetries) {</span></span>
<span class="line"><span style="color:#E1E4E8">          retryCount</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">          /**</span></span>
<span class="line"><span style="color:#6A737D">           * On marque un temps d&#39;arrêt pour chaque reprise</span></span>
<span class="line"><span style="color:#6A737D">           */</span></span>
<span class="line"><span style="color:#F97583">          if</span><span style="color:#E1E4E8"> (retryDelay </span><span style="color:#F97583">&gt;</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">            await</span><span style="color:#F97583"> new</span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">resolve</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> setTimeout</span><span style="color:#E1E4E8">(resolve, retryDelay));</span></span>
<span class="line"><span style="color:#E1E4E8">          }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">          return</span><span style="color:#B392F0"> attempt</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#6A737D">        /**</span></span>
<span class="line"><span style="color:#6A737D">         * En cas d&#39;échec répété, on arrête et on renvoie l&#39;erreur</span></span>
<span class="line"><span style="color:#6A737D">         */</span></span>
<span class="line"><span style="color:#F97583">        throw</span><span style="color:#E1E4E8"> error;</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#B392F0"> attempt</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">  /**</span></span>
<span class="line"><span style="color:#6A737D">   * Gestion du reload automatique</span></span>
<span class="line"><span style="color:#6A737D">   */</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#B392F0"> reactLazy</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">async</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">    /**</span></span>
<span class="line"><span style="color:#6A737D">     * On utilise la signature de la fonction comme clé pour le sessionStorage.</span></span>
<span class="line"><span style="color:#6A737D">     * On la transforme en chaîne de caractères pour créer un identifiant unique.</span></span>
<span class="line"><span style="color:#6A737D">     */</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> functionString</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> importFunction.</span><span style="color:#B392F0">toString</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">      /**</span></span>
<span class="line"><span style="color:#6A737D">       * Ici on exécute la fonction tryImport qui importe notre composant</span></span>
<span class="line"><span style="color:#6A737D">       * et fait des traitements au préalable avant de faire un reload</span></span>
<span class="line"><span style="color:#6A737D">       */</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> component</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> tryImport</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">      /**</span></span>
<span class="line"><span style="color:#6A737D">       * En cas de succès, on supprime au préalable la clé du sessionStorage</span></span>
<span class="line"><span style="color:#6A737D">       * pour une réinitialisation propre lors du prochain échec éventuel</span></span>
<span class="line"><span style="color:#6A737D">       */</span></span>
<span class="line"><span style="color:#E1E4E8">      sessionStorage.</span><span style="color:#B392F0">removeItem</span><span style="color:#E1E4E8">(functionString);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#E1E4E8"> component;</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#6A737D">      /**</span></span>
<span class="line"><span style="color:#6A737D">       * On récupère la valeur stockée dans le sessionStorage avec la clé &quot;functionString&quot;.</span></span>
<span class="line"><span style="color:#6A737D">       * Ensuite on la compare à notre paramètre maxRetries.</span></span>
<span class="line"><span style="color:#6A737D">       * Si elle est inférieure à maxRetries, on l&#39;incrémente jusqu&#39;à ce qu&#39;elle devienne supérieure.</span></span>
<span class="line"><span style="color:#6A737D">       * Puis on rafraîchit la page avec window.location.reload().</span></span>
<span class="line"><span style="color:#6A737D">       */</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> currentFailures</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> parseInt</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">        sessionStorage.</span><span style="color:#B392F0">getItem</span><span style="color:#E1E4E8">(functionString) </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> &quot;0&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">      );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (currentFailures </span><span style="color:#F97583">&lt;</span><span style="color:#E1E4E8"> maxRetries) {</span></span>
<span class="line"><span style="color:#E1E4E8">        sessionStorage.</span><span style="color:#B392F0">setItem</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">          functionString,</span></span>
<span class="line"><span style="color:#E1E4E8">          (currentFailures </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">toString</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">        );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">        window.location.</span><span style="color:#B392F0">reload</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">        /**</span></span>
<span class="line"><span style="color:#6A737D">         * React.lazy() attend une Promise qui se résout vers { default: Component }.</span></span>
<span class="line"><span style="color:#6A737D">         * Ici c&#39;est un placeholder qui ne sera jamais affiché car la page se recharge.</span></span>
<span class="line"><span style="color:#6A737D">         * On retourne une signature similaire à l&#39;API React.lazy().</span></span>
<span class="line"><span style="color:#6A737D">         */</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#B392F0"> EmptyComponent</span><span style="color:#F97583">:</span><span style="color:#B392F0"> FC</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=&gt;</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> { default: EmptyComponent };</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#6A737D">      /**</span></span>
<span class="line"><span style="color:#6A737D">       * Si on a dépassé le nombre maximum de tentatives, on propage l&#39;erreur</span></span>
<span class="line"><span style="color:#6A737D">       */</span></span>
<span class="line"><span style="color:#F97583">      throw</span><span style="color:#E1E4E8"> error;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h2 id="solutions-apportées-par-cette-approche">Solutions apportées par cette approche</h2>
<p>Cette implémentation de <code>createLazy</code> apporte plusieurs améliorations significatives par rapport au lazy loading standard :</p>
<ol>
<li><strong>Gestion robuste des erreurs et retries</strong><br/>
Le composant est importé avec un système de retry configurable (<code>importRetries</code>) et un délai entre les tentatives (<code>retryDelay</code>). Cela permet de mieux gérer les problèmes de réseau ou les échecs temporaires lors du chargement des composants, réduisant ainsi les risques de plantage de l’application.</li>
<li><strong>Gestion efficace des chunks</strong><br/>
En contrôlant le lazy loading au niveau des imports et en utilisant des clés uniques pour chaque fonction importée, cette approche facilite la gestion des chunks JavaScript pour la production. Cela optimise la livraison des ressources et simplifie le <strong>déploiement continu</strong>, car les composants problématiques peuvent être rechargés automatiquement sans interrompre l’expérience utilisateur.</li>
<li><strong>Potentiel d’amélioration de l’expérience utilisateur</strong><br/>
Bien que cette version se concentre sur la robustesse et la fiabilité, il est possible d’étendre le mécanisme pour inclure le suivi de l’état de chargement. Par exemple : afficher un <strong>squelette</strong> ou un indicateur de progression pendant que le composant est en cours de chargement. Cela améliorerait directement l’expérience utilisateur tout en conservant les bénéfices du retry et du reload automatique.</li>
</ol>
<h2 id="simulation">Simulation</h2>
<p>Pour démontrer le fonctionnement de mon code, j’ai volontairement fait échouer certains composants en lazy loading. Chaque composant tente de se recharger plusieurs fois avec un délai entre chaque essai, et si ça échoue encore, la page peut se recharger automatiquement. L’objectif n’est pas d’avoir une interface fluide, mais de montrer concrètement comment le mécanisme de retry et de reload fonctionne.</p>
<iframe src="https://elyseemb.github.io/lazyLoading/" style="width:100%; height:500px; border:0; border-radius:8px;"></iframe>
<p>Le code GitHub : <a href="https://github.com/elyseeMB/lazyLoading.git">https://github.com/elyseeMB/lazyLoading.git</a></p>
<h2 id="conclusion">Conclusion</h2>
<p>En résumé, cette approche permet d’avoir un lazy loading plus fiable et résilient, avec des bénéfices concrets pour la production et la maintenance. Elle résout efficacement le problème critique des chunks obsolètes qui affecte quotidiennement les utilisateurs d’applications SPA.</p>
<p>Cette implémentation constitue une base solide adaptable selon vos besoins : monitoring, feedback utilisateur, configuration par environnement. L’avantage principal réside dans sa simplicité d’adoption - quelques lignes suffisent pour transformer un lazy loading fragile en système robuste.</p> </div> <div class="wrapper-outline" data-astro-cid-eomsrdgo> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="1zqujG" component-url="/_astro/Outline.dPt7OPfp.js" component-export="Outline" renderer-url="/_astro/client.Dn2rG-YZ.js" props="{&quot;data-astro-cid-eomsrdgo&quot;:[0,true]}" ssr client="load" opts="{&quot;name&quot;:&quot;Outline&quot;,&quot;value&quot;:true}" await-children><div class="outline__wrapper"><ul class="outline"></ul></div><!--astro:end--></astro-island> </div> </div> </div> </section>  <div class="container-narrow"> <footer data-astro-cid-bbsqf2va> <div class="container" data-astro-cid-bbsqf2va> <div class="grid" data-astro-cid-bbsqf2va> <div class="left" data-astro-cid-bbsqf2va> <div class="info" data-astro-cid-bbsqf2va> <h4 data-astro-cid-bbsqf2va>A propos</h4> <p data-astro-cid-bbsqf2va> Ingénieur logiciel, je conçois des systèmes numériques robustes,
durables et centrés sur l’utilisateur. </p> </div> <div class="extra" data-astro-cid-bbsqf2va> <div class="contacts" data-astro-cid-bbsqf2va> <h4 data-astro-cid-bbsqf2va>contact</h4> <ul class="links" data-astro-cid-bbsqf2va> <a href="mailto:contact@eembouz.com" data-astro-cid-bbsqf2va> <li data-astro-cid-bbsqf2va> contact@eembouz.com </li> </a> </ul> </div> <div class="legacy" data-astro-cid-bbsqf2va> <a href="https://blog.eembouz.com" data-astro-cid-bbsqf2va>blog.eembouz.com</a> <span class="declaration" data-astro-cid-bbsqf2va>Copyright © 2025 elysee Mboussa. All rights reserved.</span> </div> </div> </div> <div class="right" data-astro-cid-bbsqf2va> <div class="contact" data-astro-cid-bbsqf2va> <div class="info" data-astro-cid-bbsqf2va> <h4 data-astro-cid-bbsqf2va>Réseaux</h4>
              <ul class="links" data-astro-cid-bbsqf2va> <a href="https://github.com/elyseeMB" data-astro-cid-bbsqf2va> <li data-astro-cid-bbsqf2va> Github </li> </a><a href="https://www.linkedin.com/in/%CE%BEmmanuelito-mboussa-49099932a?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app" data-astro-cid-bbsqf2va> <li data-astro-cid-bbsqf2va> Linkedin </li> </a> </ul> </div> </div> </div> </div> </div> </footer>  </div> </div> </div> </body></html> 