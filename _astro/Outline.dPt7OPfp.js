import{d as s,y as h}from"./hooks.module.DgGn6LWr.js";import{u as n}from"./jsxRuntime.module.UfDXtYJk.js";import"./preact.module.HqusRkxx.js";function y(){const[a,d]=s(null),[f,m]=s({});h(()=>{const e=Array.from(document.querySelectorAll("h2")),c=Array.from(document.querySelectorAll("h3"));m(t=>({...t,heading_level_2:e,heading_level_3:c}));const r=[];return e.forEach(t=>{const o=new IntersectionObserver(l=>{const i=l[0];i.isIntersecting&&d(i.target)},{rootMargin:"-10px 0px -90% 0px"});o.observe(t),r.push(o)}),()=>{r.forEach(t=>{t.disconnect()})}},[]);const u=e=>{e.preventDefault();const r=e.currentTarget.getAttribute("href")?.replace("#","");if(r){const t=document.getElementById(r);if(t){const o=t.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:o-10,behavior:"smooth"})}}};return n("div",{className:"outline__wrapper",children:n("ul",{className:"outline",children:f.heading_level_2?.map(e=>n("a",{onClick:u,href:"#"+e.id,children:n("li",{style:{color:a?.id===e.id?"var(--contrast) ":"inherit"},children:e.textContent})},e.id))})})}export{y as Outline};
