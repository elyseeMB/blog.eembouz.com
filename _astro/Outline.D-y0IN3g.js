import{d as i,y as h}from"./hooks.module.C1wFu9uq.js";import{u as n}from"./jsxRuntime.module.fOORsCCE.js";import"./preact.module.B5PsXcXZ.js";function w(){const[a,d]=i(null),[f,m]=i({});h(()=>{const e=Array.from(document.querySelectorAll("h2")),l=Array.from(document.querySelectorAll("h3"));m(t=>({...t,heading_level_2:e,heading_level_3:l}));const r=[];return e.forEach(t=>{const o=new IntersectionObserver(c=>{const s=c[0];s.isIntersecting&&d(s.target)},{rootMargin:"-10px 0px -90% 0px"});o.observe(t),r.push(o)}),()=>{r.forEach(t=>{t.disconnect()})}},[]);const p=e=>{e.preventDefault();const r=e.currentTarget.getAttribute("href")?.replace("#","");if(r){const t=document.getElementById(r);if(t){const o=t.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:o-10,behavior:"smooth"})}}};return n("div",{className:"outline__wrapper w-max",children:n("ul",{className:"flex flex-col gap-3 px-[4rem]  w-[350px]",children:f.heading_level_2?.map(e=>n("a",{onClick:p,href:"#"+e.id,children:n("li",{className:"whitespace-nowrap overflow-hidden text-ellipsis",style:{color:a?.id===e.id?"var(--contrast) ":"inherit"},children:e.textContent})},e.id))})})}export{w as Outline};
